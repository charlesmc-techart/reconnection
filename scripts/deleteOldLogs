#!/bin/zsh

################################################################################
# Delete logs older than two weeks
################################################################################

source "${0:h}/errorMessage.zsh"

readonly FILE_AGE=+2w

if (( "$#" < 1 )); then
  errorMessage "${0:t}: No directories given"
fi

for dir in "$@"; do
  if [[ ! -d "$d" ]]; then
    continue
  fi
  find "$dir" -type f -name '*.log' -Btime "${FILE_AGE}" -delete
done